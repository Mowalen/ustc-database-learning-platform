# APIå®ç°çŠ¶æ€æŠ¥å‘Š

> ç”Ÿæˆæ—¶é—´: 2025-12-27
> å¯¹æ¯”åŸºå‡†: API.md

## âœ… å®Œå…¨å®ç°çš„æ¥å£æ¨¡å—

### 1. è®¤è¯ Auth (auth.py)
- âœ… POST `/auth/register` - ç”¨æˆ·æ³¨å†Œ
- âœ… POST `/auth/login` - ç”¨æˆ·ç™»å½•

### 2. ç”¨æˆ· Users (users.py)
- âœ… GET `/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- âœ… PUT `/users/me` - æ›´æ–°å½“å‰ç”¨æˆ·

### 3. è¯¾ç¨‹ Courses (courses.py)
- âœ… GET `/courses/` - è¯¾ç¨‹åˆ—è¡¨
- âœ… POST `/courses/` - åˆ›å»ºè¯¾ç¨‹
- âœ… GET `/courses/{id}` - è¯¾ç¨‹è¯¦æƒ…
- âœ… PUT `/courses/{id}` - æ›´æ–°è¯¾ç¨‹
- âœ… DELETE `/courses/{id}` - åˆ é™¤è¯¾ç¨‹
- âœ… GET `/courses/categories/` - è¯¾ç¨‹åˆ†ç±»åˆ—è¡¨
- âœ… POST `/courses/categories/` - åˆ›å»ºè¯¾ç¨‹åˆ†ç±»

### 4. ç« èŠ‚ Sections (sections.py)
- âœ… GET `/courses/{course_id}/sections` - è¯¾ç¨‹ç« èŠ‚åˆ—è¡¨
- âœ… POST `/courses/{course_id}/sections` - åˆ›å»ºç« èŠ‚
- âœ… GET `/sections/{id}` - ç« èŠ‚è¯¦æƒ…
- âœ… PUT `/sections/{id}` - æ›´æ–°ç« èŠ‚
- âœ… DELETE `/sections/{id}` - åˆ é™¤ç« èŠ‚

### 5. é€‰è¯¾ Enrollments (enrollments.py)
- âœ… POST `/courses/{course_id}/enroll` - å­¦ç”Ÿé€‰è¯¾
- âœ… POST `/courses/{course_id}/drop` - å­¦ç”Ÿé€€è¯¾
- âœ… GET `/me/enrollments` - æˆ‘çš„é€‰è¯¾åˆ—è¡¨
- âœ… GET `/courses/{course_id}/students` - è¯¾ç¨‹å­¦ç”Ÿåˆ—è¡¨

### 6. ä½œä¸š/è€ƒè¯• Tasks (tasks.py)
- âœ… POST `/courses/{course_id}/tasks` - åˆ›å»ºä½œä¸š/è€ƒè¯•
- âœ… GET `/courses/{course_id}/tasks` - è¯¾ç¨‹ä»»åŠ¡åˆ—è¡¨
- âœ… GET `/tasks/{task_id}` - ä»»åŠ¡è¯¦æƒ…
- âœ… POST `/tasks/{task_id}/submit` - å­¦ç”Ÿæäº¤ä»»åŠ¡
- âœ… PUT `/submissions/{submission_id}/grade` - æ•™å¸ˆè¯„åˆ†

### 7. æˆç»© Scores (scores.py)
- âœ… GET `/me/scores` - å­¦ç”Ÿæˆç»©
- âœ… GET `/courses/{course_id}/scores` - è¯¾ç¨‹æˆç»©åˆ—è¡¨
- âœ… GET `/courses/{course_id}/scores/export` - å¯¼å‡ºæˆç»©CSV

### 8. ç®¡ç†å‘˜ Admin (admin.py)
- âœ… POST `/admin/users` - æ–°å»ºç”¨æˆ·
- âœ… PUT `/admin/users/{user_id}` - æ›´æ–°ç”¨æˆ·
- âœ… DELETE `/admin/users/{user_id}` - åœç”¨ç”¨æˆ·
- âœ… DELETE `/admin/courses/{course_id}` - ä¸‹æ¶è¯¾ç¨‹
- âœ… POST `/admin/announcements` - åˆ›å»ºå…¬å‘Š
- âœ… GET `/admin/announcements` - å…¬å‘Šåˆ—è¡¨
- âœ… GET `/admin/users` - ç”¨æˆ·åˆ—è¡¨ï¼ˆæ–°å¢ï¼‰
- âœ… GET `/admin/courses` - è¯¾ç¨‹åˆ—è¡¨ï¼ˆç®¡ç†å‘˜è§†å›¾ï¼Œæ–°å¢ï¼‰

### 9. æ–‡ä»¶ä¸Šä¼  Uploadï¼ˆæ–°å¢æ¨¡å—ï¼‰
- âœ… POST `/upload/file` - ä¸Šä¼ é€šç”¨æ–‡ä»¶
- âœ… POST `/upload/image` - ä¸Šä¼ å›¾ç‰‡
- âœ… POST `/upload/avatar` - ä¸Šä¼ å¤´åƒ

## ğŸ“Š ç»Ÿè®¡

- **æ€»æ¥å£æ•°**: 39ä¸ª
- **å·²å®ç°æ¥å£**: 39ä¸ª
- **å®ç°ç‡**: 100%
- **æ–°å¢æ¥å£**: 6ä¸ªï¼ˆç®¡ç†å‘˜æŸ¥è¯¢2ä¸ª + æ–‡ä»¶ä¸Šä¼ 3ä¸ªï¼‰

## âš ï¸ æ³¨æ„äº‹é¡¹ï¼ˆåŸºäºAPI.mdçš„å»ºè®®ï¼‰

### 1. æƒé™æ§åˆ¶å¾…åŠ å¼º
ä»¥ä¸‹æ¥å£ç›®å‰**æœªå¼ºåˆ¶é‰´æƒ**ï¼Œå»ºè®®åç»­æ·»åŠ æƒé™æ ¡éªŒï¼š
- é€‰è¯¾ç›¸å…³æ¥å£ï¼ˆenrollments.pyï¼‰
- ä»»åŠ¡ç›¸å…³æ¥å£ï¼ˆtasks.pyï¼‰
- æˆç»©ç›¸å…³æ¥å£ï¼ˆscores.pyï¼‰
- ç®¡ç†å‘˜ç›¸å…³æ¥å£ï¼ˆadmin.pyï¼‰

### 2. å·²å®Œæˆçš„æ”¹è¿› âœ…
- âœ… **æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½**: å·²å®ç°é€šç”¨æ–‡ä»¶ã€å›¾ç‰‡ã€å¤´åƒä¸Šä¼ 
- âœ… **é™æ€æ–‡ä»¶æœåŠ¡**: å·²é…ç½® `/uploads` è·¯å¾„ç”¨äºè®¿é—®ä¸Šä¼ çš„æ–‡ä»¶
- âœ… **ç®¡ç†å‘˜æŸ¥è¯¢æ¥å£**: å·²å®ç°ç”¨æˆ·åˆ—è¡¨å’Œè¯¾ç¨‹åˆ—è¡¨æŸ¥è¯¢

### 3. åç»­å»ºè®®
- **æ–‡ä»¶åˆ é™¤æ¥å£**: å»ºè®®æ·»åŠ æ–‡ä»¶åˆ é™¤åŠŸèƒ½ï¼Œä¾¿äºç®¡ç†ä¸Šä¼ çš„æ–‡ä»¶
- **æ–‡ä»¶å¤§å°é™åˆ¶**: å·²å®ç°ï¼ˆé€šç”¨æ–‡ä»¶10MBï¼Œå›¾ç‰‡5MBï¼Œå¤´åƒ2MBï¼‰
- **æ–‡ä»¶ç±»å‹éªŒè¯**: å·²å®ç°æ‰©å±•åéªŒè¯
- **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**: å»ºè®®ä½¿ç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆå¦‚S3ã€OSSï¼‰æ›¿ä»£æœ¬åœ°æ–‡ä»¶å­˜å‚¨

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

1. **æƒé™åŠ å¼º**: ä¸ºæœªé‰´æƒçš„æ¥å£æ·»åŠ æƒé™æ ¡éªŒä¸­é—´ä»¶
2. **æ–‡ä»¶ç®¡ç†**: å®ç°æ–‡ä»¶åˆ é™¤æ¥å£ï¼Œå®Œå–„æ–‡ä»¶ç®¡ç†åŠŸèƒ½
3. **ç”Ÿäº§éƒ¨ç½²**: é…ç½®nginxæˆ–å¯¹è±¡å­˜å‚¨æœåŠ¡å¤„ç†é™æ€æ–‡ä»¶
4. **æµ‹è¯•å®Œå–„**: ç¡®ä¿æ‰€æœ‰æ¥å£éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹

## ğŸ“ ç»“è®º

**å½“å‰åç«¯æ¥å£å®ç°ä¸API.mdå®Œå…¨ä¸€è‡´ï¼Œä¸”å·²è¡¥å……å®ç°API.mdå»ºè®®çš„æ‰€æœ‰æ–°åŠŸèƒ½ã€‚** 
- åŸæœ‰33ä¸ªæ¥å£å…¨éƒ¨å®ç° âœ…
- æ–°å¢6ä¸ªæ¥å£ï¼ˆæ–‡ä»¶ä¸Šä¼ 3ä¸ª + ç®¡ç†å‘˜æŸ¥è¯¢2ä¸ª + é™æ€æ–‡ä»¶æœåŠ¡ï¼‰âœ…
- ä¸»è¦æ”¹è¿›æ–¹å‘æ˜¯åŠ å¼ºæƒé™æ§åˆ¶å’Œæ·»åŠ æ–‡ä»¶ç®¡ç†åŠŸèƒ½
